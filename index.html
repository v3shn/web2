<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexora@v3shnss</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&family=Montserrat:wght@400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
        }

        .bg-animated {
            background: linear-gradient(-45deg, #1e3a8a, #3b82f6, #dc2626, #ef4444);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .nss-pattern {
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
        }

        .floating {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .glow-text {
            text-shadow: 0 0 40px rgba(255, 255, 255, 0.5),
                         0 0 80px rgba(255, 255, 255, 0.3);
        }

        .card-glow {
            box-shadow: 0 0 40px rgba(59, 130, 246, 0.3),
                        0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .option-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .option-hover:hover {
            transform: translateX(10px) scale(1.02);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
        }

        .pulse-ring {
            animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse-ring {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.1);
            }
        }

        .slide-in-up {
            animation: slideInUp 0.6s ease-out;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .gradient-text {
            background: linear-gradient(135deg, #60a5fa 0%, #ef4444 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nss-logo-bg {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 600px;
            background-image: url('https://raw.githubusercontent.com/v3shn/nss/21dd09dfb8054d6aeaa6d8fe2feaaab5241eb1db/National-Service-Scheme-L.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0.03;
            pointer-events: none;
            z-index: 0;
        }

        .shine {
            position: relative;
            overflow: hidden;
        }

        .shine::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { left: -100%; }
            50%, 100% { left: 100%; }
        }

        .stagger-1 { animation-delay: 0.1s; }
        .stagger-2 { animation-delay: 0.2s; }
        .stagger-3 { animation-delay: 0.3s; }
        .stagger-4 { animation-delay: 0.4s; }

        .admin-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
        }
    </style>
</head>
<body class="bg-animated nss-pattern min-h-screen flex items-center justify-center p-4">
    <div class="nss-logo-bg"></div>

    <!-- Admin Button (visible on first page only) -->
    <button id="adminBtn" onclick="showAdminLogin()" 
            class="admin-btn bg-white bg-opacity-20 backdrop-blur-md text-white font-semibold px-6 py-3 rounded-full hover:bg-opacity-30 transition-all duration-300 shadow-lg">
        👤 Admin
    </button>

    <!-- Overlay -->
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-70 z-40 hidden transition-opacity duration-300"></div>

    <!-- Popup -->
    <div id="popup" class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-3xl p-12 z-50 text-center min-w-[300px] transform scale-0 transition-transform duration-300 shadow-2xl">
        <div id="popupIcon" class="text-7xl mb-6"></div>
        <div id="popupText" class="text-3xl font-bold text-gray-800"></div>
    </div>

    <!-- Main Container -->
    <div class="relative z-10 w-full max-w-5xl">
        <div class="bg-white bg-opacity-95 backdrop-blur-xl rounded-3xl card-glow p-8 md:p-12">
            
            <!-- Header -->
            <div class="text-center mb-10 fade-in">
                <div class="floating mb-6">
                    <img src="https://raw.githubusercontent.com/v3shn/nss/21dd09dfb8054d6aeaa6d8fe2feaaab5241eb1db/National-Service-Scheme-L.png" 
                         alt="NSS Logo" 
                         class="w-32 h-32 mx-auto drop-shadow-2xl">
                </div>
                <h1 class="text-4xl md:text-6xl font-extrabold mb-4 glow-text" style="font-family: 'Montserrat', sans-serif;">
                    <span class="gradient-text">NATIONAL SERVICE SCHEME</span>
                </h1>
                <p class="text-2xl md:text-3xl text-red-600 font-semibold italic shine">Not Me But You...</p>
            </div>

            <!-- Welcome Screen -->
            <div id="welcomeScreen" class="slide-in-up">
                <div class="space-y-6 mb-8">
                    <p class="text-gray-700 leading-relaxed text-justify text-base md:text-lg">
                        The National Service Scheme (NSS) is a dynamic, student-centric youth program operating under the Ministry of Youth Affairs & Sports, Government of India. Established in 1969, the fundamental objective of the NSS is to facilitate the development of the student's personality through direct community service. Embracing the motto "Not Me But You", the scheme inspires volunteers to prioritize the well-being of society and understand the community they work with, thereby bridging the gap between the academic campus and the practical realities of the public. This voluntary engagement ensures that NSS volunteers cultivate a deep sense of social responsibility, democratic living, and national integration, essential qualities for future leadership and engaged citizenship.
                    </p>
                    <p class="text-gray-700 leading-relaxed text-justify text-base md:text-lg">
                        NSS volunteers actively participate in various community development initiatives, dedicating 120 hours annually to regular activities and also engaging in intensive seven-day special camping programs in adopted villages or urban slums. These activities range from large-scale cleanliness and sanitation drives, blood donation camps, and environmental protection projects like afforestation, to programs focused on literacy, health awareness, and disaster management. Through this hands-on experience, the NSS scheme successfully instills practical skills, empathy, and a strong commitment to selfless service, making a tangible positive impact on the lives of the underprivileged and contributing significantly to the overall progress of the nation.
                    </p>
                </div>
                <div class="text-center">
                    <button onclick="showNameEntry()" 
                            class="shine bg-gradient-to-r from-blue-600 to-red-600 text-white font-bold text-xl px-12 py-4 rounded-full hover:shadow-2xl hover:scale-105 transition-all duration-300 transform">
                        Continue to Quiz
                    </button>
                </div>
            </div>

            <!-- Name Entry Screen -->
            <div id="nameEntryScreen" class="hidden text-center slide-in-up">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">Enter Your Details</h2>
                    <p class="text-xl text-gray-600 mb-8">Please provide your name to begin the quiz</p>
                </div>
                <div class="max-w-md mx-auto mb-8">
                    <input type="text" id="participantName" 
                           placeholder="Enter your full name" 
                           class="w-full px-6 py-4 text-lg border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-500 transition-all duration-300 shadow-md">
                    <p id="nameError" class="text-red-500 mt-2 hidden">Please enter your name</p>
                </div>
                <button onclick="submitName()" 
                        class="shine bg-gradient-to-r from-blue-600 to-red-600 text-white font-bold text-xl px-12 py-4 rounded-full hover:shadow-2xl hover:scale-105 transition-all duration-300 transform">
                    Start Quiz
                </button>
            </div>

            <!-- Start Screen -->
            <div id="startScreen" class="hidden text-center slide-in-up">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">Welcome, <span id="displayName" class="gradient-text"></span>!</h2>
                    <p class="text-xl text-gray-600">Answer 10 random questions about NSS and showcase your understanding!</p>
                </div>
                <button onclick="startQuiz()" 
                        class="shine bg-gradient-to-r from-blue-600 to-red-600 text-white font-bold text-2xl px-16 py-5 rounded-full hover:shadow-2xl hover:scale-105 transition-all duration-300 transform pulse-ring">
                    Begin Quiz
                </button>
            </div>

            <!-- Quiz Screen -->
            <div id="quizScreen" class="hidden">
                <!-- Timer Bar -->
                <div class="mb-6">
                    <div class="h-3 bg-gray-200 rounded-full overflow-hidden shadow-inner">
                        <div id="timerFill" class="h-full bg-gradient-to-r from-red-500 to-red-700 transition-all duration-100 rounded-full"></div>
                    </div>
                    <p id="timerText" class="text-center text-2xl font-bold text-red-600 mt-3">Time: 30s</p>
                </div>

                <!-- Question Info -->
                <div class="flex justify-between mb-6 text-lg font-semibold text-gray-600">
                    <span id="questionNumber">Question 1/10</span>
                    <span id="scoreDisplay" class="text-blue-600">Score: 0/10</span>
                </div>

                <!-- Question -->
                <div class="bg-gradient-to-r from-blue-50 to-red-50 p-8 rounded-2xl mb-8 border-l-4 border-blue-600 shadow-lg slide-in-up">
                    <p id="questionText" class="text-xl md:text-2xl font-semibold text-gray-800 leading-relaxed"></p>
                </div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-4"></div>
            </div>

            <!-- Result Screen -->
            <div id="resultScreen" class="hidden text-center slide-in-up">
                <h2 class="text-4xl font-bold text-gray-800 mb-8">🎉 Quiz Completed! 🎉</h2>
                <div id="finalScore" class="text-7xl font-extrabold mb-8 gradient-text"></div>
                <p id="resultMessage" class="text-2xl text-gray-700 mb-10 font-semibold"></p>
                <button onclick="restartQuiz()" 
                        class="shine bg-gradient-to-r from-blue-600 to-red-600 text-white font-bold text-xl px-12 py-4 rounded-full hover:shadow-2xl hover:scale-105 transition-all duration-300 transform">
                    Try Again
                </button>
            </div>

            <!-- Admin Login Screen -->
            <div id="adminLoginScreen" class="hidden text-center slide-in-up">
                <div class="mb-8">
                    <h2 class="text-4xl font-bold mb-6 gradient-text">Admin Panel</h2>
                    <p class="text-xl text-gray-600 mb-8">Enter password to access admin dashboard</p>
                </div>
                <div class="max-w-md mx-auto mb-8">
                    <input type="password" id="adminPassword" 
                           placeholder="Enter admin password" 
                           class="w-full px-6 py-4 text-lg border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-500 transition-all duration-300 shadow-md">
                    <p id="passwordError" class="text-red-500 mt-2 hidden">Incorrect password</p>
                </div>
                <div class="flex gap-4 justify-center">
                    <button onclick="adminLogin()" 
                            class="shine bg-gradient-to-r from-blue-600 to-red-600 text-white font-bold text-xl px-12 py-4 rounded-full hover:shadow-2xl hover:scale-105 transition-all duration-300 transform">
                        Login
                    </button>
                    <button onclick="backToWelcome()" 
                            class="bg-gray-500 text-white font-bold text-xl px-12 py-4 rounded-full hover:shadow-2xl hover:scale-105 transition-all duration-300 transform hover:bg-gray-600">
                        Back
                    </button>
                </div>
            </div>

            <!-- Admin Dashboard Screen -->
            <div id="adminDashboard" class="hidden slide-in-up">
                <div class="mb-8 text-center">
                    <h2 class="text-4xl font-bold mb-4 gradient-text">Admin Dashboard</h2>
                    <p class="text-xl text-gray-600">Recent Quiz Participants</p>
                </div>
                
                <div class="mb-6 overflow-x-auto">
                    <table class="w-full bg-white rounded-xl shadow-lg overflow-hidden">
                        <thead class="bg-gradient-to-r from-blue-600 to-red-600 text-white">
                            <tr>
                                <th class="px-6 py-4 text-left font-semibold">#</th>
                                <th class="px-6 py-4 text-left font-semibold">Name</th>
                                <th class="px-6 py-4 text-left font-semibold">Score</th>
                                <th class="px-6 py-4 text-left font-semibold">Date & Time</th>
                            </tr>
                        </thead>
                        <tbody id="participantsTable" class="divide-y divide-gray-200">
                            <!-- Participants will be populated here -->
                        </tbody>
                    </table>
                </div>

                <div class="flex gap-4 justify-center">
                    <button onclick="resetData()" 
                            class="bg-red-600 text-white font-bold text-lg px-10 py-3 rounded-full hover:shadow-2xl hover:scale-105 transition-all duration-300 transform hover:bg-red-700">
                        🗑️ Reset All Data
                    </button>
                    <button onclick="backToWelcome()" 
                            class="bg-gray-500 text-white font-bold text-lg px-10 py-3 rounded-full hover:shadow-2xl hover:scale-105 transition-all duration-300 transform hover:bg-gray-600">
                        ← Back to Home
                    </button>
                </div>
            </div>

        </div>
    </div>

    <script>
        const allQuestions = [
            {q: "What does the letter 'S' stand for in NSS?", options: ["School", "Study", "Service", "Sports"], answer: 2},
            {q: "What is the full form of NSS?", options: ["National Social Service", "National Service Scheme", "National Student Scheme", "Non-Stop Service"], answer: 1},
            {q: "What is the official motto of NSS?", options: ["Duty First", "Serve the Nation", "Not Me But You", "Unity is Strength"], answer: 2},
            {q: "In which year was the NSS officially launched?", options: ["1959", "1965", "1969", "1971"], answer: 2},
            {q: "The NSS emblem (symbol) is based on the wheel of which famous temple?", options: ["Jagannath Temple, Puri", "Lingaraj Temple, Bhubaneswar", "Konark Sun Temple", "Meenakshi Temple, Madurai"], answer: 2},
            {q: "How many bars (spokes) are there in the NSS wheel?", options: ["6", "7", "8", "12"], answer: 2},
            {q: "What does the eight-bar wheel in the NSS symbol represent?", options: ["Eight great virtues", "The cycle of the moon", "24 hours of the day (readiness to serve)", "Eight types of social work"], answer: 2},
            {q: "What is the full form of SNO, the officer who heads NSS activities at the State level?", options: ["School Nodal Officer", "Senior Network Organizer", "State NSS Officer", "Students' National Organizer"], answer: 2},
            {q: "Which color in the NSS badge indicates that the volunteer is active and full of high spirit?", options: ["Blue", "Green", "Yellow", "Red"], answer: 3},
            {q: "The NSS aims to instill which core value in the volunteer?", options: ["Ambition", "Competition", "Selflessness", "Authority"], answer: 2},
            {q: "What is the main idea summarized by the phrase 'Education Through Service'?", options: ["To prioritize studying over everything else", "To get better grades by doing social work", "The fundamental purpose of NSS", "The name of the NSS magazine"], answer: 2},
            {q: "What is the minimum duration of an NSS Special Camp?", options: ["3 days and 2 nights", "5 days and 5 nights", "7 days and 7 nights", "10 days and 10 nights"], answer: 2},
            {q: "What is the compulsory minimum community service hours a volunteer should put in during one academic year (Regular Activities)?", options: ["60 hours", "100 hours", "120 hours", "240 hours"], answer: 2},
            {q: "What is the total minimum service hour requirement (Regular + Camp) in two years for an NSS Certificate?", options: ["120 hours", "180 hours", "200 hours", "240 hours"], answer: 3},
            {q: "Who is the head of the NSS unit in your school?", options: ["Principal", "Student Leader", "Programme Officer (PO)", "School Manager"], answer: 2},
            {q: "On what date is NSS Day celebrated every year?", options: ["January 26th", "August 15th", "September 24th", "October 2nd"], answer: 2},
            {q: "The Blue colour in the NSS badge represents the:", options: ["Ocean", "Indian Flag", "Cosmos (universe)", "Mountains"], answer: 2},
            {q: "What is the maximum tenure for a NSS volunteer?", options: ["1 year", "2 years", "3 years", "4 years"], answer: 1},
            {q: "Which of these is a typical Regular Activity of NSS?", options: ["Disaster relief work", "Campus cleaning and gardening", "Organizing a 7-day residential camp", "Republic Day Parade practice"], answer: 1},
            {q: "What is the primary focus of an NSS Special Camp?", options: ["Tourism and sight-seeing", "Academic study and reading", "Intensive, project-based community work", "Sports and cultural exchange only"], answer: 2},
            {q: "Which nationwide campaign is NSS most actively involved in?", options: ["Digital India", "Make in India", "Swachh Bharat Abhiyan (Clean India Mission)", "Skill India"], answer: 2},
            {q: "NSS volunteers often conduct camps for the awareness of:", options: ["Stock market trends", "Political party manifestos", "Health, nutrition, and hygiene", "Latest movie releases"], answer: 2},
            {q: "Which club, promoted by NSS, focuses on HIV/AIDS awareness?", options: ["Green Club", "Blue Club", "Youth Club", "Red Ribbon Club"], answer: 3},
            {q: "NSS aims to establish a meaningful link between the 'Campus' and the:", options: ["Library", "Industry", "Community", "Laboratory"], answer: 2},
            {q: "What is the name of the work done by voluntary physical labour by NSS volunteers?", options: ["Kar Seva", "Shramdan", "Annadan", "Vayudhan"], answer: 1},
            {q: "Which of these is NOT a core focus area of NSS?", options: ["Environmental protection", "Literacy and education", "Military drill and firing", "Health and family welfare"], answer: 2},
            {q: "NSS volunteers play a key role in providing aid during:", options: ["Festivals and holidays", "School and college exams", "Natural disasters (floods, earthquakes)", "Sports tournaments"], answer: 2},
            {q: "What should NSS volunteers wear during community service?", options: ["Formal uniform", "Casual clothes", "NSS badge/T-shirt", "Traditional dress"], answer: 2},
            {q: "Which level of students in Kerala schools can join NSS?", options: ["5th and 6th standard", "8th and 9th standard", "+1 and +2 (Higher Secondary)", "Only college students"], answer: 2},
            {q: "The NSS ideology is primarily inspired by the thoughts of:", options: ["Jawaharlal Nehru", "Swami Vivekananda", "Mahatma Gandhi", "B.R. Ambedkar"], answer: 2},
            {q: "Who is the head of the NSS at the University level (e.g., Calicut, Kerala University)?", options: ["Vice-Chancellor", "Principal", "Programme Coordinator", "District Collector"], answer: 2},
            {q: "What is the significance of NSS being launched in 1969?", options: ["It was India's first five-year plan", "It was the centenary of the first war of independence", "It was the birth centenary year of Mahatma Gandhi", "It was the year of the first Asian Games"], answer: 2},
            {q: "NSS was first introduced in how many Universities in 1969?", options: ["10", "20", "37", "50"], answer: 2},
            {q: "The Special Camp is always held in the area that is:", options: ["A major tourist spot", "The college sports ground", "A village or urban slum adopted by the Unit", "A forest reserve"], answer: 2},
            {q: "The NSS Programme Officer (PO) is a member of the college/school's:", options: ["Administrative staff", "Student Union", "Teaching faculty", "Maintenance staff"], answer: 2},
            {q: "NSS units are financially supported by:", options: ["Donations from students only", "The State Government only", "Central and State Governments (shared funding)", "Local temple trusts"], answer: 2},
            {q: "What type of work is involved in 'Institutional Work' under NSS?", options: ["Building homes", "Planting trees", "Working with old age homes or orphanages", "Teaching in a private tuition center"], answer: 2},
            {q: "The Red Ribbon Club (RRC) mainly spreads awareness about:", options: ["Cancer", "Dengue Fever", "HIV/AIDS", "Diabetes"], answer: 2},
            {q: "The NSS badge reminds the volunteer to be ready for service:", options: ["Only during the day", "Only during the camp", "Round the clock", "Only on weekends"], answer: 2},
            {q: "Which of these is a popular environmental activity done by NSS volunteers?", options: ["Waste burning", "Tree planting (Vriksharopan)", "Cutting down old trees", "Using plastic bags"], answer: 1},
            {q: "Which important national event in New Delhi features an NSS volunteer contingent every year?", options: ["Independence Day Parade", "Republic Day Parade (RDC)", "Gandhi Jayanti Celebration", "National Youth Festival"], answer: 1},
            {q: "What is the full form of RDC in the context of NSS?", options: ["Rural Development Camp", "Road Discipline Campaign", "Republic Day Camp", "Red Cross Camp"], answer: 2},
            {q: "NSS promotes which value among students from different states?", options: ["Competition", "Isolation", "National integration", "Regionalism"], answer: 2},
            {q: "An NSS unit usually consists of how many student volunteers?", options: ["25", "50", "100", "150"], answer: 2},
            {q: "The highest honor given to an NSS volunteer or unit is the:", options: ["President's Medal", "National NSS Award", "Gold Star Award", "Chief Minister's Trophy"], answer: 1},
            {q: "When the NSS volunteers work on developing small gardens or clean campus areas, it is known as:", options: ["Field Work", "Rural Work", "Campus Work", "Institutional Work"], answer: 2},
            {q: "NSS Special Camps aim to create durable community assets, such as:", options: ["New school buildings", "Paper banners", "Water conservation/harvesting structures", "Temporary tents"], answer: 2},
            {q: "What is the name of the special camp held for selected NSS volunteers at the national level?", options: ["National Youth Fest", "National Integration Camp (NIC)", "All India Camp", "Zonal Camp"], answer: 1},
            {q: "NSS volunteers who successfully complete the required service hours get a:", options: ["Monetary reward", "Free educational trip", "Service certificate", "New uniform"], answer: 2},
            {q: "The NSS works closely with NGOs, government agencies, and the:", options: ["Private industry", "Media houses", "Local community/Panchayat", "Foreign embassies"], answer: 2}
        ];

        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let timer;
        let timeLeft = 30;
        let currentCorrectIndex = 0;
        let participantName = '';
        const ADMIN_PASSWORD = 'nexora25';

        // Initialize participants data
        function getParticipants() {
            const data = JSON.parse(localStorage.getItem('nssParticipants') || '[]');
            return data;
        }

        function saveParticipant(name, score) {
            const participants = getParticipants();
            const now = new Date();
            participants.push({
                name: name,
                score: score,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString()
            });
            localStorage.setItem('nssParticipants', JSON.stringify(participants));
        }

        function showNameEntry() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('nameEntryScreen').classList.remove('hidden');
            document.getElementById('adminBtn').classList.add('hidden');
        }

        function submitName() {
            const nameInput = document.getElementById('participantName');
            const name = nameInput.value.trim();
            
            if (name === '') {
                document.getElementById('nameError').classList.remove('hidden');
                return;
            }
            
            participantName = name;
            document.getElementById('nameError').classList.add('hidden');
            document.getElementById('nameEntryScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
            document.getElementById('displayName').textContent = participantName;
        }

        function showAdminLogin() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('adminLoginScreen').classList.remove('hidden');
            document.getElementById('adminBtn').classList.add('hidden');
        }

        function adminLogin() {
            const password = document.getElementById('adminPassword').value;
            const errorMsg = document.getElementById('passwordError');
            
            if (password === ADMIN_PASSWORD) {
                errorMsg.classList.add('hidden');
                document.getElementById('adminLoginScreen').classList.add('hidden');
                document.getElementById('adminDashboard').classList.remove('hidden');
                loadParticipantsTable();
            } else {
                errorMsg.classList.remove('hidden');
            }
        }

        function loadParticipantsTable() {
            const participants = getParticipants();
            const tbody = document.getElementById('participantsTable');
            
            if (participants.length === 0) {
                tbody.innerHTML = '<tr><td colspan="4" class="px-6 py-8 text-center text-gray-500 text-lg">No participants yet</td></tr>';
                return;
            }
            
            tbody.innerHTML = participants.map((p, index) => `
                <tr class="hover:bg-gray-50 transition-colors">
                    <td class="px-6 py-4 font-medium text-gray-900">${index + 1}</td>
                    <td class="px-6 py-4 text-gray-800">${p.name}</td>
                    <td class="px-6 py-4 font-bold text-blue-600">${p.score}/10</td>
                    <td class="px-6 py-4 text-gray-600">${p.date} ${p.time}</td>
                </tr>
            `).join('');
        }

        function resetData() {
            if (confirm('Are you sure you want to reset all participant data? This action cannot be undone.')) {
                localStorage.removeItem('nssParticipants');
                loadParticipantsTable();
            }
        }

        function backToWelcome() {
            document.getElementById('adminLoginScreen').classList.add('hidden');
            document.getElementById('adminDashboard').classList.add('hidden');
            document.getElementById('welcomeScreen').classList.remove('hidden');
            document.getElementById('adminBtn').classList.remove('hidden');
            document.getElementById('adminPassword').value = '';
            document.getElementById('passwordError').classList.add('hidden');
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function startQuiz() {
            currentQuestions = shuffleArray(allQuestions).slice(0, 10);
            currentQuestionIndex = 0;
            score = 0;
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('quizScreen').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) {
                showResults();
                return;
            }

            const question = currentQuestions[currentQuestionIndex];
            document.getElementById('questionText').textContent = question.q;
            document.getElementById('questionNumber').textContent = `Question ${currentQuestionIndex + 1}/10`;
            document.getElementById('scoreDisplay').textContent = `Score: ${score}/10`;

            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';

            const optionsWithIndices = question.options.map((option, index) => ({
                text: option,
                originalIndex: index
            }));

            const shuffledOptions = shuffleArray(optionsWithIndices);
            const correctAnswerNewIndex = shuffledOptions.findIndex(
                opt => opt.originalIndex === question.answer
            );
            
            currentCorrectIndex = correctAnswerNewIndex;

            shuffledOptions.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = `option-hover bg-white border-2 border-gray-300 p-5 rounded-xl cursor-pointer text-lg font-medium text-gray-800 shadow-md slide-in-up stagger-${index + 1}`;
                optionDiv.textContent = option.text;
                optionDiv.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(optionDiv);
            });

            startTimer();
        }

        function startTimer() {
            timeLeft = 30;
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    showPopup(false, true);
                    setTimeout(() => {
                        currentQuestionIndex++;
                        showQuestion();
                    }, 1500);
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            document.getElementById('timerText').textContent = `Time: ${timeLeft}s`;
            const percentage = (timeLeft / 30) * 100;
            document.getElementById('timerFill').style.width = percentage + '%';
        }

        function selectAnswer(selectedIndex) {
            clearInterval(timer);
            
            const options = document.querySelectorAll('#optionsContainer > div');
            options.forEach(opt => {
                opt.classList.add('opacity-60', 'cursor-not-allowed');
                opt.onclick = null;
            });

            const isCorrect = selectedIndex === currentCorrectIndex;

            if (isCorrect) {
                score++;
            }

            showPopup(isCorrect, false);

            setTimeout(() => {
                currentQuestionIndex++;
                showQuestion();
            }, 1500);
        }

        function showPopup(isCorrect, isTimeout) {
            const popup = document.getElementById('popup');
            const overlay = document.getElementById('overlay');
            const icon = document.getElementById('popupIcon');
            const text = document.getElementById('popupText');

            if (isTimeout) {
                icon.textContent = '⚠️';
                icon.style.color = '#f59e0b';
                text.textContent = 'Timeout!';
            } else if (isCorrect) {
                icon.textContent = '✓';
                icon.style.color = '#10b981';
                text.textContent = 'Correct!';
            } else {
                icon.textContent = '✗';
                icon.style.color = '#ef4444';
                text.textContent = 'Incorrect!';
            }

            overlay.classList.remove('hidden');
            popup.classList.remove('scale-0');
            popup.classList.add('scale-100');

            setTimeout(() => {
                popup.classList.remove('scale-100');
                popup.classList.add('scale-0');
                overlay.classList.add('hidden');
            }, 1200);
        }

        function showResults() {
            document.getElementById('quizScreen').classList.add('hidden');
            document.getElementById('resultScreen').classList.remove('hidden');
            
            document.getElementById('finalScore').textContent = `${score}/10`;
            
            let message = '';
            if (score === 10) {
                message = 'Perfect! Outstanding knowledge of NSS! 🎉';
            } else if (score >= 7) {
                message = 'Excellent! Great understanding of NSS! 👏';
            } else if (score >= 5) {
                message = 'Good effort! Keep learning about NSS! 📚';
            } else {
                message = 'Keep practicing! Learn more about NSS! 💪';
            }
            
            document.getElementById('resultMessage').textContent = message;
            
            // Save participant data
            saveParticipant(participantName, score);
        }

        function restartQuiz() {
            document.getElementById('resultScreen').classList.add('hidden');
            document.getElementById('welcomeScreen').classList.remove('hidden');
            document.getElementById('adminBtn').classList.remove('hidden');
            participantName = '';
            document.getElementById('participantName').value = '';
        }

        // Allow Enter key for name submission
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('participantName').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    submitName();
                }
            });
            
            document.getElementById('adminPassword').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    adminLogin();
                }
            });
        });
    </script>
</body>
</html>
